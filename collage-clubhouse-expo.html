<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>CMP</title>
<meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="https://code.jquery.com/jquery-3.5.0.js"></script>
<script src="js/collage.js" type="text/javascript"></script>
<link rel="stylesheet" href="css/collage.css" type="text/css">
<style></style>
</head>
<body>

<div id="header">
	<a href="index.html"><span class="navigation">&#10094;&#10094; </span><i>Back 2</i> #cml</a>
	<p id="title">&#10075;Identity Collages&#10076;</p>
</div>

<!-- Image Gallery Grid -->
<div id="photos" class="row">
<div id="photo-gallery" class="lightbox-gallery">
<h3>Comming Soon...</h3>

<!-- END GRID -->
</div>
</div>
<!-- END MAIN -->
<div id="ticker-wrap">
<span id="ticker"></span>
</div>

<script type="text/javascript">

// RANDOMIZE DIVS
var cards = $(".column");

for (var i = 0; i < cards.length; i++){
	var target = Math.floor(Math.random() * cards.length -1) + 1;
	var target2 = Math.floor(Math.random() * cards.length -1) +1;
	cards.eq(target).before(cards.eq(target2));
}	

// LIGHTBOX
var $overlay = $('<div id="overlay"></div>');
var $image = $("<img>");
var $caption = $("<p id='caption'></p>");

//An image to name
$overlay.append($image, $caption);

//Add name
$("body").append($overlay, $caption);

//click the image and a scaled version of the full size image will appear
$("#photo-gallery a").click( function(e) {
	e.preventDefault();

  var imageLocation = $(this).attr("href");
  var captionLocation = $(this).attr("alt");

  //update name with the image linked in the link
  $image.attr("src", imageLocation);
  $caption.text(captionLocation);

  //show the name
  $overlay.show();
  $caption.show();
 });

$("#overlay").click(function() {
	$( "#overlay" ).hide();
	$( "#caption" ).hide();
});


// SHOW & HIDE ADDITIONAL ELEMENTS
$(document).ready(function(){
  $('#photo-gallery a').click(function() {
    $('#caption').css({
      'display': 'block',
    });
    $('.image').css({
      'filter': 'grayscale(1)',
    });
  });
  $('#overlay').click(function() {
    $('.image').css({
      'filter': 'grayscale(0)',
    });
  });
  $('body').click(function() {
    $('.image').css({
      'mix-blend-mode': 'normal',
    });
    $('#ticker').css({
      'color': 'rgba(147,172,198,.25)',
    });
    $('body').css({
      'background-color': '#333',
    });
    $('.name').css({
      'background-color': 'rgba(0,0,0,.6)',
    });
     $('#header a').css({
    'background-color': 'rgba(255,255,255,0)',
    });
     $('#header').css({
      'border-bottom': '5px solid #fff',
      'background-color': 'rgba(0,0,0,0)',
     });
     $('#header #title').css({
      'background-color': 'rgba(255,255,255,0)',
     });
  });
});

// TICKER
var $t = $('#ticker');
var $tw = $('#ticker-wrap');
var $w = $(window);
$tw.bind("transitionend", function(){
  $tw.css({'-webkit-transition':'all linear 0s',
            'transition':'all linear 0s'});
  set();
});
$t.text("identity self-portrait");
var fs = 1;
while($tw.height() < $w.height()){
  fs++;
  $t.css("font-size",fs+"px");
}
var width = $tw.width();
var wwidth = $w.width();
console.log(width)
function set(){
  $tw.css({'-webkit-transform':'translate3d('+wwidth+'px,0,0)','transform':'translate3d('+wwidth+'px,0,0)'});
  window.setInterval(function(){
    $tw.css({'-webkit-transition':'all linear '+(((width+wwidth)/500)*.5)+'s','transition':'all linear '+(((width+wwidth)/500)*3)+'s'});
    $tw.css({'-webkit-transform':'translate3d('+(width*-1)+'px,0,0)','transform':'translate3d('+(width*-1)+'px,0,0)'});
  },1)
}

	</script>
		</body>
		</html>